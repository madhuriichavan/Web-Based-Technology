<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Student Dashboard | CDAC LMS</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
  </head>
  <body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold text-primary" href="home.html"
          ><i class="bi bi-book-fill fs-3 me-2"></i>CDAC LMS</a
        >
        <div class="d-flex ms-auto">
          <span id="studentName" class="me-3"></span>
          <a href="login.html" class="btn btn-outline-danger">Logout</a>
        </div>
      </div>
    </nav>

    <div class="container my-5">
      <div class="row">
        <div class="col-lg-3">
          <div class="card shadow-sm mb-3">
            <div class="card-body text-center">
              <div
                class="bg-primary bg-opacity-10 rounded-circle d-inline-flex p-3 mb-3"
              >
                <i class="bi bi-person fs-1 text-primary"></i>
              </div>
              <h5 id="sName" class="fw-bold">Student Name</h5>
              <p id="sEmail" class="text-muted small mb-0">email</p>
              <p id="sId" class="text-muted small">ID: --</p>
            </div>
          </div>

          <div class="list-group">
            <a class="list-group-item list-group-item-action active"
              >Dashboard</a
            >
            <a class="list-group-item list-group-item-action">Courses</a>
            <a class="list-group-item list-group-item-action">Assignments</a>
            <a class="list-group-item list-group-item-action">Practice Quiz</a>
          </div>
        </div>

        <div class="col-lg-9">
          <div class="row g-4">
            <div class="col-md-4">
              <div class="card text-center shadow-sm h-100">
                <div class="card-body">
                  <i class="bi bi-book-fill fs-1 mb-2 text-warning"></i>
                  <h3 id="courseCount" class="display-6 fw-bold">--</h3>
                  <p class="text-muted mb-0">Enrolled Courses</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card text-center shadow-sm h-100">
                <div class="card-body">
                  <i class="bi bi-clipboard-check fs-1 mb-2 text-danger"></i>
                  <h3 id="pendingCount" class="display-6 fw-bold">--</h3>
                  <p class="text-muted mb-0">Pending Assignments</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card text-center shadow-sm h-100">
                <div class="card-body">
                  <i class="bi bi-journal-bookmark fs-1 mb-2 text-success"></i>
                  <h3 id="progress" class="display-6 fw-bold">--%</h3>
                  <p class="text-muted mb-0">Overall Progress</p>
                </div>
              </div>
            </div>
          </div>

          <div class="card mt-4 shadow-sm">
            <div class="card-body">
              <h5 class="fw-bold">My Courses</h5>
              <div id="courses" class="row g-3 mt-3"></div>
            </div>
          </div>

          <div class="card mt-4 shadow-sm">
            <div class="card-body">
              <h5 class="fw-bold">Assignments</h5>
              <ul id="assignments" class="list-group mt-3"></ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5 text-center">
      © 2025 CDAC LMS
    </footer>

    <script>
      // Sample student data DBT
      const student = {
        name: "Madhuri Chavan",
        email: "madhuri@lms.com",
        id: "250840320093",
      };

      // sample enrolled courses & assignments
      const enrolledCourses = [
        { code: "PY101", title: "Python Basics", progress: 80 },
        { code: "WD201", title: "Web Development", progress: 40 },
        { code: "DB301", title: "Database Management", progress: 55 },
      ];

      const assignments = [
        {
          id: "a1",
          title: "Python Mini Project",
          course: "Python Basics",
          due: "2025-11-01",
          status: "Pending",
        },
        {
          id: "a2",
          title: "Loops and Functions Quiz",
          course: "Python Basics",
          due: "2025-11-10",
          status: "Submitted",
        },
        {
          id: "a3",
          title: "Portfolio Website",
          course: "Web Development",
          due: "2025-11-05",
          status: "Pending",
        },
      ];

      // populate student info
      document.getElementById("sName").textContent = student.name;
      document.getElementById("sEmail").textContent = student.email;
      document.getElementById("sId").textContent = "ID: " + student.id;
      document.getElementById("studentName").textContent = student.name;

      // courses cards
      const coursesDiv = document.getElementById("courses");
      enrolledCourses.forEach((c) => {
        const col = document.createElement("div");
        col.className = "col-md-6";
        col.innerHTML = `
        <div class="card h-100">
          <div class="card-body">
            <h6 class="fw-bold mb-1">${c.title}</h6>
            <small class="text-muted">${c.code}</small>
            <div class="progress mt-3" style="height:8px">
              <div class="progress-bar" role="progressbar" style="width:${c.progress}%" aria-valuenow="${c.progress}" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>`;
        coursesDiv.appendChild(col);
      });

      document.getElementById("courseCount").textContent =
        enrolledCourses.length;
      document.getElementById("pendingCount").textContent = assignments.filter(
        (a) => a.status === "Pending"
      ).length;
      document.getElementById("progress").textContent =
        Math.round(
          enrolledCourses.reduce((s, c) => s + c.progress, 0) /
            enrolledCourses.length
        ) + "%";

      // assignments list
      const asgList = document.getElementById("assignments");
      assignments.forEach((a) => {
        const li = document.createElement("li");
        li.className =
          "list-group-item d-flex justify-content-between align-items-center";
        li.innerHTML = `<div><strong>${
          a.title
        }</strong><br><small class="text-muted">${a.course} • Due: ${
          a.due
        }</small></div><span class="badge bg-${
          a.status === "Pending" ? "warning" : "success"
        } text-dark">${a.status}</span>`;
        asgList.appendChild(li);
      });

      // Quiz functions

      function selectOption(btn) {
        // clear others
        const buttons = document
          .getElementById("quizOptions")
          .querySelectorAll("button");
        buttons.forEach((b) => {
          b.className = "btn btn-outline-secondary btn-sm m-1";
        });
        btn.className = "btn btn-secondary btn-sm m-1";
      }
    </script>
  </body>
</html>
